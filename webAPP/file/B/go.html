<!DOCTYPE HTML>
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
    <title></title>
    <script type="text/javascript" language="javascript" src="../../Rmes/Pub/Script/jquery.min.js"></script>
</head>
<body style="width:100%;height:100%;margin:0px;padding:0px;">
<div style="float:left;position:fixed;top:0px;left:0px;width:100px;">
    <button id="zoomin" style="padding:5px;position:absolute;margin-left:10px;margin-top:10px;font-size:14px;cursor:pointer;">放大</button>
    <button id="zoomout"   style="padding:5px;position:absolute;margin-left:10px;margin-top:60px;font-size:14px;cursor:pointer;">缩小</button>
</div>
    <center><img id="test" src="" alt="" /></center>
    <script language="javascript" type="text/javascript">
        var zoom = 30;
        var w = 0, h = 0;
        $(document).ready(function () {
            var filestring = getUrlParam('p');
            if (filestring != '') {
                var obj = $('#test');
                obj.attr('src', filestring);
                w = obj.width();
                h = obj.height();
            }
            $('#zoomin').click(function () {
                var obj = $('#test');
                w = obj.width() + zoom;
                if(w<3000)
                    obj.width(w);
            });
            $('#zoomout').click(function () {
                var obj = $('#test');
                w = obj.width() - zoom;
                if(w>100)
                    obj.width(w);
            });
        });
        function getUrlParam(name) {
            var reg = new RegExp("(^|&)" + name + "=([^&]*)(&|$)"); //构造一个含有目标参数的正则表达式对象
            var r = window.location.search.substr(1).match(reg);  //匹配目标参数
            if (r != null) return unescape(r[2]); return ''; //返回参数值
        }
    </script>
</body>
</html>